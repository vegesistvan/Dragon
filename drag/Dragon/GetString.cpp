// GetString.cpp : implementation file
//

#include "stdafx.h"
#include "dragon.h"
#include "GetString.h"
#include "afxdialogex.h"


// CGetString dialog

IMPLEMENT_DYNAMIC(CGetString, CDialogEx)
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CGetString::CGetString(CWnd* pParent /*=NULL*/)
	: CDialogEx(CGetString::IDD, pParent)
{

}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CGetString::~CGetString()
{
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void CGetString::DoDataExchange(CDataExchange* pDX)
{
	CDialogEx::DoDataExchange(pDX);
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
BEGIN_MESSAGE_MAP(CGetString, CDialogEx)
	ON_BN_CLICKED(IDOK, &CGetString::OnBnClickedOk)
//	ON_EN_KILLFOCUS(IDC_EDIT, &CGetString::OnKillfocusEdit)
	ON_EN_CHANGE(IDC_EDIT, &CGetString::OnChangeEdit)
END_MESSAGE_MAP()
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
BOOL CGetString::OnInitDialog()
{
	CDialogEx::OnInitDialog();
//	  SetWindowPos(&wndTopMost, 0, 0, 0, 0, SWP_NOMOVE | SWP_NOSIZE);
	SetWindowTextW( m_caption );
	GetDlgItem( IDC_EDIT )->SetWindowTextW( m_string );
	return TRUE;
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void CGetString::OnBnClickedOk()
{
	if( m_string.IsEmpty() )
	{
		AfxMessageBox( L"Még nem adtad meg stringet!" );
		return;
	}
	CDialogEx::OnOK();
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void CGetString::OnChangeEdit()
{
	GetDlgItem( IDC_EDIT )->GetWindowTextW( m_string );
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////